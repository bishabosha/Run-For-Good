var mapBox;
var defaltLATLNG;
var infoWindow;
var MapOptions;
var map;
init();

var poly1;
var poly2;
var poly3;
var firstTime = true;
var firstLatLng;

var special1;
var report1;

var special2;
var report2;

var special3;
var report3;

function init() {
	mapBox = document.getElementById('map-here');
	defaltLATLNG = new google.maps.LatLng(51.507226,  -0.0186017);

	infoWindow = new google.maps.InfoWindow({
	    content:  ""
	});

	MapOptions = {
	    center:  defaltLATLNG, 
	    zoom:  15
	};

	map = new google.maps.Map(mapBox,  MapOptions);
	
	report1 = {
		sponsor: "Michael Ruben",
		img: 'img/users/1.jpg',
	};
	
	report2 = {
			sponsor: "Michael Ruben",
			img: 'img/users/1.jpg',
		};
	
	report2 = {
			sponsor: "Rebecca Shaw",
			img: 'img/users/2.jpg',
		};
	
	report3 = {
			sponsor: "Jason Roberts",
			img: 'img/users/3.jpg',
		};
	
	var runRoute1 = [
    	{lat: 51.50285245588863, lng: -0.020073652267456055}, {lat: 51.502612031433955, lng: -0.017627477645874023}, 
    	{lat: 51.5049895064036, lng: -0.017005205154418945}, {lat: 51.50477580586208, lng: -0.014816522598266602}, 
    	{lat: 51.504628886158415, lng: -0.014494657516479492}, {lat: 51.50445525317066, lng: -0.014258623123168945}, 
    	{lat: 51.50429497597932, lng: -0.013250112533569336}, {lat: 51.50436175821087, lng: -0.012735128402709961}, 
    	{lat: 51.50557717772514, lng: -0.01097559928894043}, {lat: 51.50612477372582, lng: -0.010675191879272461}, 
    	{lat: 51.50660558430045, lng: -0.010567903518676758}, {lat: 51.50665900738443, lng: -0.010589361190795898}, 
    	{lat: 51.506765853364506, lng: -0.010761022567749023}, {lat: 51.506886054792616, lng: -0.010718107223510742}, 
    	{lat: 51.50698622240712, lng: -0.010562539100646973}, {lat: 51.506886054792616, lng: -0.010251402854919434}, 
    	{lat: 51.506785886957886, lng: -0.00941455364227295}, {lat: 51.506845987685146, lng: -0.008888840675354004}, 
    	{lat: 51.507079711982, lng: -0.008684992790222168}, {lat: 51.50715316794198, lng: -0.008695721626281738}, 
    	{lat: 51.50737353511135, lng: -0.008921027183532715}, {lat: 51.50764064540292, lng: -0.008945167064666748}
    ];
	special1 = createMarker({lat: 51.50764064540292, lng: -0.008945167064666748}, 'running', report1);
	special2 = createMarker({lat: 51.504749093223914, lng: -0.020669102668762207}, 'running', report2);
	special3 = createMarker({lat: 51.50251185420348, lng: -0.017536282539367676}, 'running', report3);
	var runRoute2 = [
	    
	    {lat: 51.50764064540292, lng: -0.008945167064666748},
        {lat: 51.50783763823964, lng: -0.008789598941802979}, {lat: 51.50817486128826, lng: -0.008741319179534912}, 
    	{lat: 51.50843528926129, lng: -0.008730590343475342}, {lat: 51.50874913637907, lng: -0.009028315544128418}, 
    	{lat: 51.50878252424311, lng: -0.009983181953430176}, {lat: 51.508802556949774, lng: -0.011367201805114746}, 
    	{lat: 51.50888936524356, lng: -0.015122294425964355}, {lat: 51.50896949582946, lng: -0.01767575740814209}, 
    	{lat: 51.510612141783206, lng: -0.017568469047546387}, {lat: 51.51211451000516, lng: -0.0177079439163208}, 
    	{lat: 51.512127864167205, lng: -0.02002537250518799}, {lat: 51.510865878560125, lng: -0.02105534076690674}, 
    	{lat: 51.51001118062168, lng: -0.02111971378326416}, {lat: 51.50959050309191, lng: -0.021302103996276855}, 
    	{lat: 51.50936346916036, lng: -0.021280646324157715}, {lat: 51.50918317670292, lng: -0.021999478340148926}, 
    	{lat: 51.5091698216777, lng: -0.022256970405578613}, {lat: 51.509002883532006, lng: -0.02322256565093994}, 
    	{lat: 51.50893610810247, lng: -0.023791193962097168}, {lat: 51.509049626274454, lng: -0.02424180507659912}, 
    	{lat: 51.50874245880332, lng: -0.024477839469909668}, {lat: 51.508675682992084, lng: -0.024767518043518066}, 
    	{lat: 51.50835515773583, lng: -0.026677250862121582}, {lat: 51.50836183536835, lng: -0.027042031288146973}, 
    	{lat: 51.50721326818478, lng: -0.02728879451751709}, {lat: 51.50689941048728, lng: -0.02724587917327881}, 
    	{lat: 51.506618940077324, lng: -0.02724587917327881}, {lat: 51.50613145168522, lng: -0.02699911594390869}, 
    	{lat: 51.506037960164655, lng: -0.026805996894836426}, {lat: 51.50586433254616, lng: -0.026409029960632324}, 
    	{lat: 51.505750806437874, lng: -0.02631247043609619}, {lat: 51.50555046555676, lng: -0.024477839469909668}, 
    	{lat: 51.505450294785895, lng: -0.023640990257263184}, {lat: 51.505450294785895, lng: -0.02348005771636963}, 
    	{lat: 51.5051297468393, lng: -0.02355515956878662}, {lat: 51.50502957514356, lng: -0.023426413536071777}, 
    	{lat: 51.50491604695549, lng: -0.02219259738922119}, {lat: 51.504749093223914, lng: -0.020669102668762207} 
	];
	var runRoute3 = [
	    {lat: 51.504749093223914, lng: -0.020669102668762207},
        {lat: 51.50456878250675, lng: -0.019639134407043457}, {lat: 51.50456878250675, lng: -0.01899540424346924}, 
    	{lat: 51.50448196598106, lng: -0.01808345317840576}, {lat: 51.504341723551676, lng: -0.016924738883972168}, 
    	{lat: 51.50418144596104, lng: -0.01562654972076416}, {lat: 51.5039343502376, lng: -0.015819668769836426}, 
    	{lat: 51.503152984673186, lng: -0.016044974327087402}, {lat: 51.503039451809734, lng: -0.016077160835266113}, 
    	{lat: 51.502832420565845, lng: -0.016055703163146973}, {lat: 51.5025519251221, lng: -0.016109347343444824}, 
    	{lat: 51.50241835525635, lng: -0.016109347343444824}, {lat: 51.50201096474784, lng: -0.016216635704040527}, 
    	{lat: 51.50213785726397, lng: -0.017589926719665527}, {lat: 51.50251185420348, lng: -0.017536282539367676},
    	{lat: 51.502612031433955, lng: -0.017627477645874023}, {lat: 51.502612031433955, lng: -0.017627477645874023}
    ];
	
	poly1 = new google.maps.Polyline({
		path: runRoute1,
	    strokeColor: '#3355ff', 
	    strokeOpacity: 1.0, 
	    strokeWeight: 4
	  });
	  poly1.setMap(map);
	  
	  poly2 = new google.maps.Polyline({
			path: runRoute2,
		    strokeColor: '#ff5533', 
		    strokeOpacity: 1.0, 
		    strokeWeight: 4
		  });
		  poly2.setMap(map);
		  
		  poly3 = new google.maps.Polyline({
				path: runRoute3,
			    strokeColor: '#33ff33', 
			    strokeOpacity: 1.0, 
			    strokeWeight: 4
			  });
			  poly3.setMap(map);

	  // Add a listener for the click event
	  //map.addListener('click',  addLatLng);

}

function addLatLng(event) {
	if (firstTime) {
		firstTime = false;
		firstLatLng = event.latLng;
	}
	  var path = poly.getPath();

	  // Because path is an MVCArray,  we can simply append a new coordinate
	  // and it will automatically appear.
	  path.push(event.latLng);
	  poly.length += 100;
	}